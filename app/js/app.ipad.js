Joshfire.define(["./app","joshfire/class"],function(a,b){return b(a,{setup:function(a){var b=this;b.__super(a),b.subscribe("afterInsert",function(){b.ui.element("/header/menu/categories/rewind").hide(),b.ui.element("/header/menu/categories/forward").hide(),$(window).bind("swipeUp",function(a){b.ui.element("/header").hide()});var a=b.ui.element(b.categsUIPath),c=125;a.subscribe("afterRefresh",function(){a.htmlEl.getElementsByTagName("ul")[0].style.width=c*a.htmlEl.getElementsByTagName("li").length+"px",a.iScroller.refresh()})})},nextNews:function(a){a.__super(a);var b=a.ui.element("/news"),c=b.getState("selection");if(!c||c[0]==(_.last(b.data)||{}).id)return b.selectByIndex(0),!0;try{var d=b.getIndexById(c[0]);b.selectByIndex(d+1)}catch(e){b.selectByIndex(0)}}})});